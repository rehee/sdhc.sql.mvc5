#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.42000
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace ASP
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 1 "..\..\Areas\Admin\Views\Content\Index.cshtml"
    using SDHC.Common.Entity.Models;
    
    #line default
    #line hidden
    using WebSQL;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/Admin/Views/Content/Index.cshtml")]
    public partial class _Areas_Admin_Views_Content_Index_cshtml : System.Web.Mvc.WebViewPage<BaseContent>
    {
        public _Areas_Admin_Views_Content_Index_cshtml()
        {
        }
        public override void Execute()
        {
            
            #line 3 "..\..\Areas\Admin\Views\Content\Index.cshtml"
  
  ViewBag.Title = "Content";
  Layout = "~/Areas/Admin/Views/Shared/_Layout_Content.cshtml";
  var contentId = Model != null ? (long?)Model.Id : null;
  var contents = ContentManager.GetContentTableHtmlView(contentId);
  contents.FirstRow = new ContentTableOption()
  {
    RowAction = "Index",
    RowController = "Content",
    RowArea = G.AdminPath,
    RowTitle = b => $"{(b as ContentTableRowItem).DisplayOrder} (children list)",
    RowObject = b => new { @id = (b as ContentTableRowItem).Id, @area = G.AdminPath }
  };
  contents.Options = new List<ContentTableOption>();
  contents.Options.Add(
    new ContentTableOption()
    {
      RowAction = "Edit",
      RowController = "Content",
      RowArea = G.AdminPath,
      RowTitle = b => "Detail",
      ButtonClass = "btn btn-primary",
      RowObject = b => new { @id = (b as ContentTableRowItem).Id, @area = G.AdminPath }
    });
  contents.Options.Add(
    new ContentTableOption()
    {
      RowAction = "Preview",
      RowController = "SDHCPage",
      RowArea = "",
      RowTitle = b => "Preview",
      ButtonClass = "btn btn-success",
      RowObject = b => new { @id = (b as ContentTableRowItem).Id, @area = "" },
      UrlAttribute = c => $"target=\"_blank\"",
    });


  IEnumerable<string> CreateRole;
  IEnumerable<string> ReadRole;
  IEnumerable<string> UpdateRole;
  IEnumerable<string> DeleteRole;
  if (Model == null)
  {
    CreateRole = Enumerable.Empty<string>();
    ReadRole = Enumerable.Empty<string>();
    UpdateRole = Enumerable.Empty<string>();
    DeleteRole = Enumerable.Empty<string>();
    //var type = ContentE.RootType.CustomAttributes.Where(b => b.AttributeType == typeof(SDHCC.AllowChildrenAttribute)).FirstOrDefault();
    //if (type != null)
    //{
    //    var createRoles = type.NamedArguments.Where(b => b.MemberName == "CreateRoles").FirstOrDefault();
    //    if (createRoles != null)
    //    {
    //        var role = (System.Collections.ObjectModel.ReadOnlyCollection<System.Reflection.CustomAttributeTypedArgument>)createRoles.TypedValue.Value;
    //        CreateRole = role.Select(b => b.Value.ToString()).ToList();
    //    }
    //    var editRoles = type.NamedArguments.Where(b => b.MemberName == "EditRoles").FirstOrDefault();
    //    if (editRoles != null)
    //    {
    //        var eRoles = (System.Collections.ObjectModel.ReadOnlyCollection<System.Reflection.CustomAttributeTypedArgument>)editRoles.TypedValue.Value;
    //        UpdateRole = eRoles.Select(b => b.Value.ToString()).ToList();
    //    }
    //}
  }
  else
  {
    //CreateRole = Model.AdminCreateRoles;
    //ReadRole = Model.AdminReadRoles;
    //UpdateRole = Model.AdminUpdateRoles;
    //DeleteRole = Model.AdminDeleteRoles;
  }

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n");

DefineSection("breadcrumb", () => {

WriteLiteral("\r\n");

            
            #line 77 "..\..\Areas\Admin\Views\Content\Index.cshtml"
  
            
            #line default
            #line hidden
            
            #line 77 "..\..\Areas\Admin\Views\Content\Index.cshtml"
     Html.RenderPartial("_BreadCrumbContent", Model);
            
            #line default
            #line hidden
WriteLiteral("\r\n");

});

WriteLiteral("<div");

WriteLiteral(" class=\"row clearfix\"");

WriteLiteral(">\r\n  <div");

WriteLiteral(" class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"card\"");

WriteLiteral(">\r\n      <div");

WriteLiteral(" class=\"card-header\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"button-box\"");

WriteLiteral(">\r\n\r\n          <div");

WriteLiteral(" class=\"btn-group\"");

WriteLiteral(">\r\n            <button");

WriteLiteral(" type=\"button\"");

WriteLiteral(" class=\"btn btn-info btn-group\"");

WriteLiteral(" data-toggle=\"dropdown\"");

WriteLiteral(" aria-haspopup=\"true\"");

WriteLiteral(" aria-expanded=\"false\"");

WriteLiteral(">\r\n              Create\r\n            </button>\r\n            <ul");

WriteLiteral(" class=\"dropdown-menu\"");

WriteLiteral(">\r\n");

            
            #line 90 "..\..\Areas\Admin\Views\Content\Index.cshtml"
              
            
            #line default
            #line hidden
            
            #line 90 "..\..\Areas\Admin\Views\Content\Index.cshtml"
                
                var avaliableChild = TypeExtends.GetAllowChildrens(Model);
              
            
            #line default
            #line hidden
WriteLiteral("\r\n");

            
            #line 93 "..\..\Areas\Admin\Views\Content\Index.cshtml"
              
            
            #line default
            #line hidden
            
            #line 93 "..\..\Areas\Admin\Views\Content\Index.cshtml"
               foreach (var child in avaliableChild)
              {
                var idguid = Guid.NewGuid().ToString();

            
            #line default
            #line hidden
WriteLiteral("                <li>\r\n                  <a");

WriteLiteral(" href=\"#\"");

WriteAttribute("onclick", Tuple.Create(" onclick=\"", 3668), Tuple.Create("\"", 3697)
, Tuple.Create(Tuple.Create("", 3678), Tuple.Create("subbform(\'", 3678), true)
            
            #line 97 "..\..\Areas\Admin\Views\Content\Index.cshtml"
, Tuple.Create(Tuple.Create("", 3688), Tuple.Create<System.Object, System.Int32>(idguid
            
            #line default
            #line hidden
, 3688), false)
, Tuple.Create(Tuple.Create("", 3695), Tuple.Create("\')", 3695), true)
);

WriteLiteral(">");

            
            #line 97 "..\..\Areas\Admin\Views\Content\Index.cshtml"
                                                       Write(TypeExtends.GetClassDisplayName(child));

            
            #line default
            #line hidden
WriteLiteral("</a>\r\n                  <form");

WriteAttribute("id", Tuple.Create(" id=\"", 3767), Tuple.Create("\"", 3779)
            
            #line 98 "..\..\Areas\Admin\Views\Content\Index.cshtml"
, Tuple.Create(Tuple.Create("", 3772), Tuple.Create<System.Object, System.Int32>(idguid
            
            #line default
            #line hidden
, 3772), false)
);

WriteAttribute("action", Tuple.Create(" action=\"", 3780), Tuple.Create("\"", 3853)
            
            #line 98 "..\..\Areas\Admin\Views\Content\Index.cshtml"
, Tuple.Create(Tuple.Create("", 3789), Tuple.Create<System.Object, System.Int32>(Url.Action("PreCreate", "Content", new { @area = G.AdminPath })
            
            #line default
            #line hidden
, 3789), false)
);

WriteLiteral(" method=\"post\"");

WriteLiteral(">\r\n");

WriteLiteral("                    ");

            
            #line 99 "..\..\Areas\Admin\Views\Content\Index.cshtml"
               Write(Html.Hidden("ContentId", contentId));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

WriteLiteral("                    ");

            
            #line 100 "..\..\Areas\Admin\Views\Content\Index.cshtml"
               Write(Html.Hidden("FullType", child.FullName + "," + child.Assembly.FullName));

            
            #line default
            #line hidden
WriteLiteral("\r\n                  </form>\r\n                </li>\r\n");

            
            #line 103 "..\..\Areas\Admin\Views\Content\Index.cshtml"
              }

            
            #line default
            #line hidden
WriteLiteral("            </ul>\r\n          </div>\r\n          <script>\r\n            function sub" +
"bform(id) {\r\n              var form = document.getElementById(id);\r\n            " +
"  form.submit();\r\n              return;\r\n            }\r\n          </script>\r\n   " +
"       <a");

WriteAttribute("href", Tuple.Create(" href=\"", 4340), Tuple.Create("\"", 4424)
            
            #line 113 "..\..\Areas\Admin\Views\Content\Index.cshtml"
, Tuple.Create(Tuple.Create("", 4347), Tuple.Create<System.Object, System.Int32>(Url.Action("Index", "Content", new { @area = G.AdminPath, @id = contentId })
            
            #line default
            #line hidden
, 4347), false)
);

WriteLiteral(" class=\"btn btn-success\"");

WriteLiteral(">List</a>\r\n          <a");

WriteAttribute("href", Tuple.Create(" href=\"", 4472), Tuple.Create("\"", 4555)
            
            #line 114 "..\..\Areas\Admin\Views\Content\Index.cshtml"
, Tuple.Create(Tuple.Create("", 4479), Tuple.Create<System.Object, System.Int32>(Url.Action("Edit", "Content", new { @area = G.AdminPath, @id = contentId })
            
            #line default
            #line hidden
, 4479), false)
);

WriteLiteral(" class=\"btn btn-success\"");

WriteLiteral(">Edit</a>\r\n          <a");

WriteAttribute("href", Tuple.Create(" href=\"", 4603), Tuple.Create("\"", 4686)
            
            #line 115 "..\..\Areas\Admin\Views\Content\Index.cshtml"
, Tuple.Create(Tuple.Create("", 4610), Tuple.Create<System.Object, System.Int32>(Url.Action("Sort", "Content", new { @area = G.AdminPath, @id = contentId })
            
            #line default
            #line hidden
, 4610), false)
);

WriteLiteral(" class=\"btn btn-warning\"");

WriteLiteral(">Sort</a>\r\n          <a");

WriteLiteral(" href=\"#\"");

WriteLiteral(" onclick=\"deleteCurrent()\"");

WriteLiteral(" class=\"btn btn-danger\"");

WriteLiteral(">Delete</a>\r\n          <form");

WriteLiteral(" id=\"ContentDeleteForm\"");

WriteAttribute("action", Tuple.Create(" action=\"", 4843), Tuple.Create("\"", 4913)
            
            #line 117 "..\..\Areas\Admin\Views\Content\Index.cshtml"
, Tuple.Create(Tuple.Create("", 4852), Tuple.Create<System.Object, System.Int32>(Url.Action("Delete", "Content", new { @area = G.AdminPath })
            
            #line default
            #line hidden
, 4852), false)
);

WriteLiteral(" method=\"post\"");

WriteLiteral(">\r\n");

WriteLiteral("            ");

            
            #line 118 "..\..\Areas\Admin\Views\Content\Index.cshtml"
       Write(Html.Hidden("id", contentId));

            
            #line default
            #line hidden
WriteLiteral("\r\n          </form>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div");

WriteLiteral(" class=\"body\"");

WriteLiteral(">\r\n");

            
            #line 125 "..\..\Areas\Admin\Views\Content\Index.cshtml"
        
            
            #line default
            #line hidden
            
            #line 125 "..\..\Areas\Admin\Views\Content\Index.cshtml"
           Html.RenderPartial("Contents/_ContentTableHtml", contents); 
            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n");

DefineSection("script", () => {

WriteLiteral(@"
  <script>
    $(function () {
      $('.basic-example').DataTable();
    });

    function deleteCurrent() {
      showCancelMessage(function () {
        document.getElementById('ContentDeleteForm').submit();
      })
    }
    function showCancelMessage(callback) {
      swal({
        title: ""Are you sure?"",
        text: ""Current page and all Children page will delete and not be able to recover!"",
        type: ""warning"",
        showCancelButton: true,
        confirmButtonColor: ""#DD6B55"",
        confirmButtonText: ""Yes, delete it!"",
        cancelButtonText: ""No, cancel plx!"",
        closeOnConfirm: false,
        closeOnCancel: false
      }, function (isConfirm) {
        if (isConfirm) {
          swal(""Deleted!"", ""Your record has been deleted."", ""success"");
          if (callback) {
            callback();
          }
        } else {
          swal(""Cancelled"", ""Your record is safe :)"", ""error"");
        }
      });
    }
  </script>
  ");

WriteLiteral("\r\n");

});

        }
    }
}
#pragma warning restore 1591
